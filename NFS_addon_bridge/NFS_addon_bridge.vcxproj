<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" ToolsVersion="17.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
    <ItemGroup Label="ProjectConfigurations">
        <ProjectConfiguration Include="Debug|Win32">
            <Configuration>Debug</Configuration>
            <Platform>Win32</Platform>
        </ProjectConfiguration>
        <ProjectConfiguration Include="Release|Win32">
            <Configuration>Release</Configuration>
            <Platform>Win32</Platform>
        </ProjectConfiguration>
    </ItemGroup>
    <PropertyGroup Label="Globals">
        <VCProjectVersion>17.0</VCProjectVersion>
        <ProjectGuid>{02AF14FF-5139-43C5-9AD2-D382B0E3BFF9}</ProjectGuid>
        <Keyword>Win32Proj</Keyword>
        <WindowsTargetPlatformVersion>10</WindowsTargetPlatformVersion>
        <ProjectName>NFS_Addon_Bridge</ProjectName>
    </PropertyGroup>
    <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props"/>
    <PropertyGroup Label="Configuration">
        <CharacterSet>Unicode</CharacterSet>
        <PlatformToolset>v143</PlatformToolset>
        <PlatformToolset Condition="'$(VisualStudioVersion)'=='16.0'">v142</PlatformToolset>
        <PlatformToolset Condition="'$(VisualStudioVersion)'=='17.0'">v143</PlatformToolset>
    </PropertyGroup>
    <PropertyGroup Label="Configuration" Condition="'$(Configuration)'=='Debug'">
        <ConfigurationType>DynamicLibrary</ConfigurationType>
        <UseDebugLibraries>true</UseDebugLibraries>
    </PropertyGroup>
    <PropertyGroup Label="Configuration" Condition="'$(Configuration)'=='Release'">
        <ConfigurationType>DynamicLibrary</ConfigurationType>
        <UseDebugLibraries>false</UseDebugLibraries>
        <WholeProgramOptimization>true</WholeProgramOptimization>
    </PropertyGroup>
    <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props"/>
    <ImportGroup Label="PropertySheets">
        <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform"/>
    </ImportGroup>
    <PropertyGroup>
        <OutDir>..\build\scripts\</OutDir>
        <IntDir>..\build_Bridge\intermediate\$(Platform)_$(Configuration)\</IntDir>
        <TargetName>nfs_addon_bridge</TargetName>
        <TargetExt>.asi</TargetExt>
    </PropertyGroup>

    <ItemDefinitionGroup>
        <ClCompile>
            <LanguageStandard>stdcpplatest</LanguageStandard>
            <LanguageStandard_C>stdclatest</LanguageStandard_C>
            <AdditionalIncludeDirectories>..\third_party\reshade_api18\include;..\..\reshade\deps\imgui;..\includes;..\includes\injector;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
            <AdditionalLibraryDirectories>$(DXSDK_DIR)Include;%(AdditionalIncludeDirectories)</AdditionalLibraryDirectories>
            <AdditionalDependencies>d3d9.lib;d3dx9.lib;ws2_32.lib;crypt32.lib;%(AdditionalDependencies)</AdditionalDependencies>
            <ConformanceMode>true</ConformanceMode>
        </ClCompile>
        <Link>
            <SubSystem>Windows</SubSystem></Link>
    </ItemDefinitionGroup>
    
    <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
        <ClCompile>
            <WarningLevel>Level4</WarningLevel>
            <Optimization>Disabled</Optimization>
            <PreprocessorDefinitions>GAME_MW;WIN32_LEAN_AND_MEAN;NOMINMAX;_DEBUG;%(PreprocessorDefinitions)</PreprocessorDefinitions>
            <RuntimeLibrary>MultiThreadedDebugDLL</RuntimeLibrary>
        </ClCompile>
        <Link>
            <GenerateDebugInformation>true</GenerateDebugInformation>
        </Link>
    </ItemDefinitionGroup>
    <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
        <ClCompile>
            <WarningLevel>Level3</WarningLevel>
            <Optimization>MaxSpeed</Optimization>
            <IntrinsicFunctions>true</IntrinsicFunctions>
            <FunctionLevelLinking>true</FunctionLevelLinking>
            <PreprocessorDefinitions>GAME_MW;WIN32_LEAN_AND_MEAN;NOMINMAX;NDEBUG;%(PreprocessorDefinitions)</PreprocessorDefinitions>
            <RuntimeLibrary>MultiThreadedDLL</RuntimeLibrary>
        </ClCompile>
        <Link>
            <OptimizeReferences>true</OptimizeReferences>
            <GenerateDebugInformation>false</GenerateDebugInformation>
            <LinkTimeCodeGeneration>UseLinkTimeCodeGeneration</LinkTimeCodeGeneration>
        </Link>
    </ItemDefinitionGroup>
    
    <ItemGroup>
        <ClCompile Include="dllmain.cpp"/>
    </ItemGroup>
    <ItemGroup>
        <ClInclude Include="..\includes\NFSC_PreFEngHook.h"/>
        <ClInclude Include="..\includes\NFSMW_PreFEngHook.h"/>
        <ClInclude Include="..\includes\NFSPS_PreFEngHook.h"/>
        <ClInclude Include="..\includes\NFSU2_PreFEngHook.h"/>
        <ClInclude Include="..\includes\NFSUC_PreFEngHook.h"/>
        <ClInclude Include="..\includes\NFSU_PreFEngHook.h"/>
    </ItemGroup>
    <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets"/>

    <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32' Or '$(Configuration)|$(Platform)'=='Release|Win32'">
        <PostBuildEvent>
            <Command>
                XCOPY /Y /R "$(TargetDir)*" "d:\Games\NFS MW - Vanilla\SCRIPTS\"
            </Command>
        </PostBuildEvent>
    </ItemDefinitionGroup>
</Project>
